{"version":3,"sources":["hooks/useField.js","services/configGen.js","services/dateHandler.js","components/TableSingle.js","components/AddMangaForm.js","components/Notifications.js","components/StatsToggle.js","components/SortSelect.js","services/sortingHandler.js","components/MangaTable.js","components/Login.js","App.js","index.js"],"names":["useField","type","useState","value","setValue","onChange","event","target","onSubmit","configGen","user","JSON","parse","localStorage","getItem","headers","Authorization","token","dateHandler","date","now","Date","dateSeconds","getTime","s","Math","floor","style","textAlign","TableSingle","data","manga","setManga","visible","setVisible","notevis","setNotevis","link","notes","baseUrl","useEffect","config","buttonHandler","e","preventDefault","outerText","newManga","chapter","axios","put","then","res","alert","title","catch","error","lastRead","visibility","noteVisibility","Button","onClick","href","String","defaultValue","window","confirm","status","AddMangaForm","add","ShowButton","Form","Group","Label","Control","Notifications","message","StatsToggle","vis","read","reduce","a","b","titles","length","finished","filter","reading","SortSelect","setSorter","sorter","sortingHandler","toUpperCase","denotifyTimeout","MangaTable","setData","setFilter","setMessage","statvis","setStatvis","get","notificationHandler","notif","clearTimeout","setTimeout","Table","includes","sort","map","mssg","_id","post","require","Login","onLogin","username","password","handleSubmit","response","setItem","stringify","console","log","className","App","setUser","userJSON","removeItem","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.505bbff9.chunk.js","sourcesContent":["import { useState } from 'react';\n\nconst useField = (type) => {\n  const [value, setValue] = useState('');\n\n  const onChange = (event) => {\n    setValue(event.target.value);\n  };\n\n  const onSubmit = () => {\n    setValue('');\n  };\n\n  return {\n    type,\n    value,\n    onChange,\n    onSubmit,\n  };\n};\n\nexport default useField;\n","const configGen = () => {\r\n  const user = JSON.parse(localStorage.getItem('loggedInUser'));\r\n  const token = `bearer ${user.token}`;\r\n  const config = {\r\n    headers: { Authorization: token },\r\n  };\r\n  return config\r\n}\r\n\r\nexport default configGen","const dateHandler = (date) => {\r\n  const now = new Date();\r\n  const last = new Date(date);\r\n  const dateSeconds = (last).getTime();\r\n  const s = (now.getTime() - dateSeconds) / 1000; // seconds\r\n  if (s < 60) {\r\n    return 'just now';\r\n  } if (s < 60 * 60) {\r\n    return `${Math.floor(s / 60)} minute(s) ago`;\r\n  } if (s < 60 * 60 * 24) {\r\n    return `${Math.floor(s / (60 * 60))} hour(s) ago`;\r\n  } if (s < 60 * 60 * 24 * 30) {\r\n    return `${Math.floor(s / (60 * 60 * 24))} day(s) ago`;\r\n  } if (s < 60 * 60 * 24 * 30 * 12) {\r\n    return `${Math.floor(s / (60 * 60 * 24 * 30))} month(s) ago`;\r\n  }\r\n  return `${Math.floor(s / (60 * 60 * 24 * 30 * 12))} year(s) ago`;\r\n};\r\n\r\nexport default dateHandler","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport useField from '../hooks/useField';\nimport configGen from '../services/configGen';\nimport dateHandler from '../services/dateHandler';\nimport { Button } from 'react-bootstrap';\n\nconst style = {\n  textAlign: 'center',\n};\n\nconst TableSingle = (data) => {\n  const [manga, setManga] = useState('');\n  const [visible, setVisible] = useState(false);\n  const [notevis, setNotevis] = useState(false);\n  const link = useField('text');\n  const notes = useField('text');\n  const baseUrl = '/api/manga';\n\n  useEffect(() => {\n    if (!manga) {\n      setManga(data.manga);\n    } else {\n      setManga(manga);\n    }\n  }, [data, manga]);\n\n  const config = configGen()\n\n  const buttonHandler = (e) => {\n    e.preventDefault();\n    if (e.target.outerText === '<') {\n      const newManga = { ...manga, chapter: manga.chapter -= 1 };\n      setManga(newManga);\n      axios.put(baseUrl, newManga, config)\n        .then((res) => {\n          setManga(res.data);\n          data.alert(`${res.data.title} moved to previous chapter`);\n        })\n        .catch((error) => {\n          data.alert(`Error: ${error}`);\n        });\n    } else if (e.target.outerText === '>') {\n      const newManga = { ...manga, chapter: manga.chapter += 1, lastRead: new Date() };\n      setManga(newManga);\n      axios.put(baseUrl, newManga, config)\n        .then((res) => {\n          setManga(res.data);\n          data.alert(`${res.data.title} moved to next chapter`);\n        })\n        .catch((error) => {\n          data.alert(`Error: ${error}`);\n        });\n    }\n  };\n\n  const handleFilterChange = (e) => {\n    e.preventDefault();\n    if (window.confirm(`Are you sure you want to mark ${manga.title} as ${e.target.value}`)) {\n      const newManga = { ...manga, status: e.target.value };\n      axios.put(baseUrl, newManga, config)\n        .then((res) => {\n          setManga(res.data);\n          data.alert(`Setting ${manga.title} status to ${e.target.value}`);\n        })\n        .catch((error) => {\n          data.alert(`Error: ${error}`);\n        });\n    }\n  };\n\n  const visibility = (e) => {\n    e.preventDefault();\n    setVisible(!visible);\n  };\n\n  const noteVisibility = (e) => {\n    e.preventDefault()\n    setNotevis(!notevis)\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const newManga = { ...manga, link: link.value };\n    axios.put(baseUrl, newManga, config)\n      .then((res) => {\n        setManga(res.data);\n        link.onSubmit();\n        setVisible(!visible);\n        data.alert(`Changed link for ${manga.title}`)\n      })\n      .catch((error) => {\n        data.alert(`Error: ${error}`);\n      });\n  };\n\n  const noteUpdate = (e) => {\n    e.preventDefault();\n    const newManga = { ...manga, notes: notes.value };\n    axios.put(baseUrl, newManga, config)\n      .then((res) => {\n        setManga(res.data);\n        notes.onSubmit();\n        setNotevis(!notevis);\n        data.alert(`Updated notes for ${manga.title}`)\n      })\n      .catch((error) => {\n        data.alert(`Error: ${error}`);\n      });\n  }\n\n  return (\n      <tr style={style}>\n        <td>{manga.title || 'none'}</td>\n        <td>{dateHandler(manga.lastRead)}</td>\n        <td>\n          <Button onClick={buttonHandler}>{'<'}</Button>\n          &nbsp;{manga.chapter}&nbsp;\n          <Button onClick={buttonHandler}>{'>'}</Button>\n        </td>\n        <td>\n          {!visible\n            ? <>\n           <a href={String(manga.link)}>Go</a>\n           <Button onClick={visibility}>Update</Button>\n          </>\n            : <>\n            <form onSubmit={handleSubmit}>\n              link: <input {...link} />\n              <Button type='submit'>Update</Button>\n              <Button onClick={visibility}>Cancel</Button>\n            </form>\n          </>\n          }\n        </td>\n        <td>\n          {!notevis\n          ? <>\n          <p>{manga.notes}<Button onClick={noteVisibility}>Update</Button></p>\n          </>\n            : <>\n            <form onSubmit={noteUpdate}>\n              <input\n                type={notes.type}\n                onChange={notes.onChange}\n                onSubmit={notes.onSubmit}\n                defaultValue={manga.notes}\n              />\n              <Button type='submit'>Update</Button>\n              <Button onClick={noteVisibility}>Cancel</Button>\n            </form>\n            </>\n          }\n        </td>\n        <td>\n          <select onChange={handleFilterChange}>\n            {<option value={manga.status}>{manga.status}</option>}\n            {manga.status === 'reading' ? null : <option value={'reading'}>reading</option>}\n            {manga.status === 'finished' ? null : <option value={'finished'}>finished</option>}\n            {manga.status === 'to start' ? null : <option value={'to start'}>to start</option>}\n            {manga.status === 'on hold' ? null : <option value={'on hold'}>on hold</option>}\n          </select>\n        </td>\n      </tr>\n  );\n};\n\nexport default TableSingle;\n","import React, { useState } from 'react';\nimport { Form, Button } from 'react-bootstrap';\nimport useField from '../hooks/useField';\n\nconst AddMangaForm = ({ add }) => {\n  const [visible, setVisible] = useState(false);\n  const title = useField('text');\n  const link = useField('text');\n\n  const ShowButton = () => {\n    const showHandler = (event) => {\n      event.preventDefault();\n      setVisible(!visible);\n    };\n    return (\n      <Button\n        onClick={showHandler}>\n        {/* style={{ height: '25px', width: '90px' }}> */}\n          {visible ? 'Close' : 'Add Manga'}\n      </Button>\n    );\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    add({\n      title: title.value,\n      link: link.value,\n    });\n    title.onSubmit();\n    link.onSubmit();\n    setVisible(!visible);\n  };\n\n  return (\n    <div>\n      <ShowButton />\n      {!visible\n        ? null\n        : \n      <Form onSubmit={handleSubmit}>\n        <Form.Group>\n          <Form.Label>title:</Form.Label>\n          <Form.Control {...title} /><br />\n          <Form.Label>link:</Form.Label>\n          <Form.Control {...link} /><br />\n          <Button type='submit'>Add</Button>\n        </Form.Group>\n      </Form>\n      }\n    </div>\n  );\n};\n\nexport default AddMangaForm;\n","import React from 'react';\n\nconst Notifications = ({ message }) => (\n    <div>\n      {message ? <h3>{message}</h3> : null}\n    </div>\n);\n\nexport default Notifications;\n","import React from 'react';\n\nconst StatsToggle = ({ data, vis }) => {\n\n  const read = data.reduce((a, b) => a + b.chapter, 0);\n  const titles = data.length;\n  const finished = data.filter((manga) => manga.status === 'finished').length;\n  const reading = data.filter((manga) => manga.status === 'reading').length;\n\n  return (\n    <div>\n      {vis\n        ? \n      <div>\n        <p>Chapters read: {read}</p>\n        <p>Mangas in collection: {titles}</p>\n        <p>Mangas finished: {finished}</p>\n        <p>Mangas current reading: {reading}</p>\n      </div>\n        : null}\n    </div>\n  );\n};\n\nexport default StatsToggle;\n","import React from 'react'\r\n\r\nconst SortSelect = ({ setSorter, sorter }) => {\r\n  const handleChange = (e) => {\r\n    e.preventDefault()\r\n    setSorter(e.target.value)  \r\n  }\r\n\r\n  return (\r\n    <>\r\n      <label>Sort by:</label>\r\n      <select value={sorter} onChange={handleChange}>\r\n        <option value='timedes'>Time descending</option>\r\n        <option value='timeasc'>Time ascending</option>\r\n        <option value='namedes'>Name descending</option>\r\n        <option value='nameasc'>Name ascending</option>\r\n      </select>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default SortSelect","const sortingHandler = (sorter, a, b) => {\r\n  switch(sorter) {\r\n    case 'timedes':\r\n      return (new Date(b.lastRead).getTime() - new Date(a.lastRead).getTime())\r\n    case 'timeasc':\r\n      return (new Date(a.lastRead).getTime() - new Date(b.lastRead).getTime())\r\n    case 'namedes':\r\n      return a.title.toUpperCase() === b.title.toUpperCase() \r\n      ? 0 : b.title.toUpperCase() > a.title.toUpperCase() \r\n      ? 1 : -1\r\n    case 'nameasc':\r\n      return a.title.toUpperCase() === b.title.toUpperCase() \r\n      ? 0 : a.title.toUpperCase() > b.title.toUpperCase() \r\n      ? 1 : -1\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nexport default sortingHandler","import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport TableSingle from './TableSingle';\nimport AddMangaForm from './AddMangaForm';\nimport Notifications from './Notifications';\nimport StatsToggle from './StatsToggle';\nimport SortSelect from './SortSelect';\nimport configGen from '../services/configGen'\nimport sortingHandler from '../services/sortingHandler'\nimport { Table, Button } from 'react-bootstrap';\n\nlet denotifyTimeout = 0;\n\nconst style = {\n  textAlign: 'center',\n};\n\nconst MangaTable = () => {\n  const [data, setData] = useState([]);\n  const [filter, setFilter] = useState('reading');\n  const [message, setMessage] = useState('');\n  const [sorter, setSorter] = useState('timedes')\n  const [statvis, setStatvis] = useState(false)\n  const config = configGen()\n\n  useEffect(() => {\n    const config = configGen()\n    axios.get('/api/manga', config).then((res) => {\n      setData(res.data);\n    });\n  }, [filter, message]);\n\n  const notificationHandler = (notif) => {\n    clearTimeout(denotifyTimeout);\n    denotifyTimeout = setTimeout(() => { setMessage(''); }, 2500);\n    setMessage(notif);\n  };\n\n  const onAdd = (manga) => {\n    axios.post('/api/manga', manga, config)\n      .then((res) => {\n        setData(res.data);\n        notificationHandler(`Added new manga ${manga.title}`, setMessage);\n      });\n  };\n\n  return (\n    <>\n    <div>\n      <div>\n        <button onClick={() => (setFilter('reading'))}>Reading</button>\n        <button onClick={() => (setFilter('to start'))}>To start</button>\n        <button onClick={() => (setFilter('finished'))}>Finished</button>\n        <button onClick={() => (setFilter('on hold'))}>On hold</button>\n        <button onClick={() => (setFilter(''))}>All</button>\n        &nbsp; currently viewing: &nbsp; {filter || 'All'}\n      </div>\n      <Table>\n        <tbody>\n        <tr style={style}>\n          <th><h3>Title</h3></th>\n          <th><h3>Last Read</h3></th>\n          <th><h3>Current</h3></th>\n          <th>Link</th>\n          <th>Notes</th>\n          <th>Status</th>\n        </tr>\n        {data\n          .filter((manga) => manga.status.includes(filter))\n          .sort((a,b) => (sortingHandler(sorter, a, b))) \n          .map((manga) => <TableSingle\n            manga={manga}\n            key={manga._id}\n            alert={(mssg) => notificationHandler(mssg)}\n            />)\n          }\n        </tbody>\n      </Table>\n    </div>\n    <div>\n      <AddMangaForm add={onAdd}/><Notifications message={message} />\n      <Button onClick={() => setStatvis(!statvis)}>\n        {statvis ? 'Hide Stats' : 'Show Stats'}\n      </Button>\n      <StatsToggle data={data} vis={statvis}/>\n      <SortSelect setSorter={setSorter} sorter={sorter} />\n    </div>\n    </>\n  );\n};\n\nexport default MangaTable;\n","import React from 'react';\nimport useField from '../hooks/useField';\nimport { Form, Button } from 'react-bootstrap'\n\nconst axios = require('axios');\n\nconst Login = ({ onLogin }) => {\n  const username = useField('text');\n  const password = useField('password');\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await axios.post('/api/login', {\n        username: username.value,\n        password: password.value,\n      });\n      window.localStorage.setItem(\n        'loggedInUser', JSON.stringify(response.data),\n      );\n      onLogin();\n    } catch (error) {\n      console.log(e);\n    }\n  };\n\n  return (\n    <div className='container'>\n      <h2>Login</h2>\n      <Form onSubmit={handleSubmit}>\n        <Form.Group>\n          <Form.Label>Username</Form.Label>\n          <Form.Control {...username} /><br />\n          <Form.Label>Password</Form.Label>\n          <Form.Control {...password} /><br />\n          <Button type='submit'>Login</Button>\n        </Form.Group>               \n      </Form>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport MangaTable from './components/MangaTable';\nimport Login from './components/Login';\nimport { Button } from 'react-bootstrap'\n\nconst App = () => {\n  const [user, setUser] = useState('loading...');\n\n  useEffect(() => {\n    try {\n      const userJSON = localStorage.getItem('loggedInUser');\n      const config = {\n      headers: { Authorization: `bearer ${(JSON.parse(userJSON)).token}` },\n    };\n      axios\n      .get('/api/users/verify', config)\n      .then((res) => {\n        if (res.data === 'valid') {\n          setUser(JSON.parse(userJSON));\n        } else {\n          setUser(null);\n        }\n      })\n      .catch((e) => {\n        setUser(null);\n      });\n    } catch {\n      setUser(null);\n    }\n    \n  }, []);\n\n  const login = () => {\n    const userJSON = localStorage.getItem('loggedInUser');\n    if (userJSON) {\n      setUser(JSON.parse(userJSON));\n    }\n  };\n\n  const logout = () => {\n    localStorage.removeItem('loggedInUser');\n    setUser(null);\n  };\n\n  return (\n  <>\n    {!user ? <Login onLogin={login}/> : user === 'loading...' ? <p>{user}</p>\n      : \n    <div className=\"container\">\n      <h1>Manga Tracker</h1>\n      <p>Logged in as 'user name' <Button onClick={() => (logout())}>logout</Button></p>\n      <MangaTable />\n    </div>\n    }\n  </>\n  );\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}