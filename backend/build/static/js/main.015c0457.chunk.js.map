{"version":3,"sources":["hooks/useField.js","services/configGen.js","services/dateHandler.js","components/TableSingle.js","components/AddMangaForm.js","components/Notifications.js","components/StatsToggle.js","components/MangaTable.js","components/Login.js","App.js","index.js"],"names":["useField","type","useState","value","setValue","onChange","event","target","onSubmit","configGen","user","JSON","parse","localStorage","getItem","headers","Authorization","token","dateHandler","date","now","Date","dateSeconds","getTime","s","Math","floor","style","textAlign","TableSingle","data","manga","setManga","visible","setVisible","link","baseUrl","useEffect","config","buttonHandler","e","preventDefault","outerText","newManga","chapter","axios","put","then","res","alert","title","catch","error","lastRead","visibility","onClick","href","String","window","confirm","status","AddMangaForm","add","ShowButton","height","width","Notifications","message","StatsToggle","read","reduce","a","b","titles","length","finished","filter","reading","denotifyTimeout","MangaTable","setData","setFilter","setMessage","get","notificationHandler","notif","clearTimeout","setTimeout","includes","map","mssg","_id","post","require","Login","onLogin","username","password","handleSubmit","response","setItem","stringify","console","log","App","setUser","userJSON","removeItem","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.015c0457.chunk.js","sourcesContent":["import { useState } from 'react';\n\nconst useField = (type) => {\n  const [value, setValue] = useState('');\n\n  const onChange = (event) => {\n    setValue(event.target.value);\n  };\n\n  const onSubmit = () => {\n    setValue('');\n  };\n\n  return {\n    type,\n    value,\n    onChange,\n    onSubmit,\n  };\n};\n\nexport default useField;\n","const configGen = () => {\r\n  const user = JSON.parse(localStorage.getItem('loggedInUser'));\r\n  const token = `bearer ${user.token}`;\r\n  const config = {\r\n    headers: { Authorization: token },\r\n  };\r\n  return config\r\n}\r\n\r\nexport default configGen","const dateHandler = (date) => {\r\n  const now = new Date();\r\n  const last = new Date(date);\r\n  const dateSeconds = (last).getTime();\r\n  const s = (now.getTime() - dateSeconds) / 1000; // seconds\r\n  if (s < 60) {\r\n    return 'just now';\r\n  } if (s < 60 * 60) {\r\n    return `${Math.floor(s / 60)} minute(s) ago`;\r\n  } if (s < 60 * 60 * 24) {\r\n    return `${Math.floor(s / (60 * 60))} hour(s) ago`;\r\n  } if (s < 60 * 60 * 24 * 30) {\r\n    return `${Math.floor(s / (60 * 60 * 24))} day(s) ago`;\r\n  } if (s < 60 * 60 * 24 * 30 * 12) {\r\n    return `${Math.floor(s / (60 * 60 * 24 * 30))} month(s) ago`;\r\n  }\r\n  return `${Math.floor(s / (60 * 60 * 24 * 30 * 12))} year(s) ago`;\r\n};\r\n\r\nexport default dateHandler","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport useField from '../hooks/useField';\nimport configGen from '../services/configGen';\nimport dateHandler from '../services/dateHandler';\n\nconst style = {\n  textAlign: 'center',\n};\n\nconst TableSingle = (data) => {\n  const [manga, setManga] = useState('');\n  const [visible, setVisible] = useState(false);\n  const link = useField('text');\n  const baseUrl = 'http://localhost:3001/api/manga';\n\n  useEffect(() => {\n    if (!manga) {\n      setManga(data.manga);\n    } else {\n      setManga(manga);\n    }\n  }, [data, manga]);\n\n  const config = configGen()\n\n  const buttonHandler = (e) => {\n    e.preventDefault();\n    if (e.target.outerText === '<') {\n      const newManga = { ...manga, chapter: manga.chapter -= 1 };\n      setManga(newManga);\n      axios.put(baseUrl, newManga, config)\n        .then((res) => {\n          setManga(res.data);\n          data.alert(`${res.data.title} moved to previous chapter`);\n        })\n        .catch((error) => {\n          data.alert(`Error: ${error}`);\n        });\n    } else if (e.target.outerText === '>') {\n      const newManga = { ...manga, chapter: manga.chapter += 1, lastRead: new Date() };\n      setManga(newManga);\n      axios.put(baseUrl, newManga, config)\n        .then((res) => {\n          setManga(res.data);\n          data.alert(`${res.data.title} moved to next chapter`);\n        })\n        .catch((error) => {\n          data.alert(`Error: ${error}`);\n        });\n    }\n  };\n\n  const handleFilterChange = (e) => {\n    e.preventDefault();\n    if (window.confirm(`Are you sure you want to mark ${manga.title} as ${e.target.value}`)) {\n      const newManga = { ...manga, status: e.target.value };\n      axios.put(baseUrl, newManga, config)\n        .then((res) => {\n          setManga(res.data);\n          data.alert(`Setting ${manga.title} status to ${e.target.value}`);\n        })\n        .catch((error) => {\n          data.alert(`Error: ${error}`);\n        });\n    }\n  };\n\n  const visibility = (e) => {\n    e.preventDefault();\n    setVisible(!visible);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const newManga = { ...manga, link: link.value };\n    axios.put(baseUrl, newManga, config)\n      .then((res) => {\n        setManga(res.data);\n        link.onSubmit();\n        setVisible(!visible);\n      })\n      .catch((error) => {\n        data.alert(`Error: ${error}`);\n      });\n  };\n\n  return (\n      <tr style={style}>\n        <td>{manga.title || 'none'}</td>\n        <td>{dateHandler(manga.lastRead)}</td>\n        <td>\n          <button onClick={buttonHandler}>{'<'}</button>\n          &nbsp;{manga.chapter}&nbsp;\n          <button onClick={buttonHandler}>{'>'}</button>\n        </td>\n        <td>\n          {!visible\n            ? <>\n           <a href={String(manga.link)}>Go</a>\n           <button onClick={visibility}>Update</button>\n          </>\n            : <>\n            <form onSubmit={handleSubmit}>\n              link: <input {...link} />\n              <button type='submit'>Update</button>\n              <button onClick={visibility}>Cancel</button>\n            </form>\n          </>\n          }\n        </td>\n        <td>\n          <select onChange={handleFilterChange}>\n            {<option value={manga.status}>{manga.status}</option>}\n            {manga.status === 'reading' ? null : <option value={'reading'}>reading</option>}\n            {manga.status === 'finished' ? null : <option value={'finished'}>finished</option>}\n            {manga.status === 'to start' ? null : <option value={'to start'}>to start</option>}\n            {manga.status === 'on hold' ? null : <option value={'on hold'}>on hold</option>}\n          </select>\n        </td>\n        <td>\n        </td>\n      </tr>\n  );\n};\n\nexport default TableSingle;\n","import React, { useState } from 'react';\nimport useField from '../hooks/useField';\n\nconst AddMangaForm = ({ add }) => {\n  const [visible, setVisible] = useState(false);\n  const title = useField('text');\n  const link = useField('text');\n\n  const ShowButton = () => {\n    const showHandler = (event) => {\n      event.preventDefault();\n      setVisible(!visible);\n    };\n    return (\n      <button\n        onClick={showHandler}\n        style={{ height: '25px', width: '90px' }}>\n          {visible ? 'Close' : 'Add Manga'}\n      </button>\n    );\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    add({\n      title: title.value,\n      link: link.value,\n    });\n    title.onSubmit();\n    link.onSubmit();\n    setVisible(!visible);\n  };\n\n  return (\n    <div>\n      <ShowButton />\n      {!visible\n        ? null\n        : <form onSubmit={handleSubmit}>\n        title:\n        <input {...title} />\n        <br />\n        link:\n        <input {...link} />\n        <button type='submit'>Add</button>\n      </form>\n      }\n    </div>\n  );\n};\n\nexport default AddMangaForm;\n","import React from 'react';\n\nconst Notifications = ({ message }) => (\n    <div>\n      {message ? <h3>{message}</h3> : null}\n    </div>\n);\n\nexport default Notifications;\n","import React, { useState } from 'react';\n\nconst StatsToggle = ({ data }) => {\n  const [visible, setVisible] = useState(false);\n\n  const read = data.reduce((a, b) => a + b.chapter, 0);\n  const titles = data.length;\n  const finished = data.filter((manga) => manga.status === 'finished').length;\n  const reading = data.filter((manga) => manga.status === 'reading').length;\n\n  return (\n    <div>\n      <button onClick={() => setVisible(!visible)}>{visible ? 'Hide Stats' : 'Show Stats'}</button>\n      {visible\n        ? <div>\n        <p>Chapters read: {read}</p>\n        <p>Mangas in collection: {titles}</p>\n        <p>Mangas finished: {finished}</p>\n        <p>Mangas current reading: {reading}</p>\n      </div>\n        : null}\n    </div>\n  );\n};\n\nexport default StatsToggle;\n","import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport TableSingle from './TableSingle';\nimport AddMangaForm from './AddMangaForm';\nimport Notifications from './Notifications';\nimport StatsToggle from './StatsToggle';\nimport configGen from '../services/configGen'\n\nlet denotifyTimeout = 0;\n\nconst MangaTable = () => {\n  const [data, setData] = useState([]);\n  const [filter, setFilter] = useState('reading');\n  const [message, setMessage] = useState('');\n  const config = configGen()\n\n  useEffect(() => {\n    const config = configGen()\n    axios.get('http://localhost:3001/api/manga', config).then((res) => {\n      setData(res.data);\n    });\n  }, [filter, message]);\n\n  const notificationHandler = (notif) => {\n    clearTimeout(denotifyTimeout);\n    denotifyTimeout = setTimeout(() => { setMessage(''); }, 2500);\n    setMessage(notif);\n  };\n\n  const onAdd = (manga) => {\n    axios.post('http://localhost:3001/api/manga', manga, config)\n      .then((res) => {\n        setData(res.data);\n        notificationHandler(`Added new manga ${manga.title}`, setMessage);\n      });\n  };\n\n  return (\n    <>\n    <div>\n      <div>\n        <button onClick={() => (setFilter('reading'))}>Reading</button>\n        <button onClick={() => (setFilter('to start'))}>To start</button>\n        <button onClick={() => (setFilter('finished'))}>Finished</button>\n        <button onClick={() => (setFilter('on hold'))}>On hold</button>\n        <button onClick={() => (setFilter(''))}>All</button>\n        &nbsp; currently viewing: &nbsp; {filter || 'All'}\n      </div>\n      <table width='80%'>\n        <tbody>\n        <tr>\n          <th><h3>Title</h3></th>\n          <th><h3>Last Read</h3></th>\n          <th><h3>Current</h3></th>\n          <th>Link</th>\n          <th>Status</th>\n        </tr>\n        {data\n          .filter((manga) => manga.status.includes(filter))\n          .map((manga) => <TableSingle\n            manga={manga}\n            key={manga._id}\n            alert={(mssg) => notificationHandler(mssg)}\n            />)\n          }\n        </tbody>\n      </table>\n    </div>\n    <div>\n      <br />\n      <AddMangaForm add={onAdd}/><Notifications message={message}/>\n      <StatsToggle data={data}/>\n    </div>\n    </>\n  );\n};\n\nexport default MangaTable;\n","import React from 'react';\nimport useField from '../hooks/useField';\n\nconst axios = require('axios');\n\nconst Login = ({ onLogin }) => {\n  const username = useField('text');\n  const password = useField('password');\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await axios.post('http://localhost:3001/api/login', {\n        username: username.value,\n        password: password.value,\n      });\n      window.localStorage.setItem(\n        'loggedInUser', JSON.stringify(response.data),\n      );\n      onLogin();\n    } catch (error) {\n      console.log(e);\n    }\n  };\n\n  return (\n    <div>\n      <h1>Login</h1>\n      <form onSubmit={handleSubmit}>\n        username:\n        <input {...username} />\n        <br />\n        password:\n        <input {...password} />\n        <br />\n        <button type='submit'>Login</button>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport MangaTable from './components/MangaTable';\nimport Login from './components/Login';\n\nconst App = () => {\n  const [user, setUser] = useState('loading...');\n\n  useEffect(() => {\n    try {\n      const userJSON = localStorage.getItem('loggedInUser');\n      const config = {\n      headers: { Authorization: `bearer ${(JSON.parse(userJSON)).token}` },\n    };\n      axios\n      .get('http://localhost:3001/api/users/verify', config)\n      .then((res) => {\n        if (res.data === 'valid') {\n          setUser(JSON.parse(userJSON));\n        } else {\n          setUser(null);\n        }\n      })\n      .catch((e) => {\n        setUser(null);\n      });\n    } catch {\n      setUser(null);\n    }\n    \n  }, []);\n\n  const login = () => {\n    const userJSON = localStorage.getItem('loggedInUser');\n    if (userJSON) {\n      setUser(JSON.parse(userJSON));\n    }\n  };\n\n  const logout = () => {\n    localStorage.removeItem('loggedInUser');\n    setUser(null);\n  };\n\n  return (\n  <>\n    {!user ? <Login onLogin={login}/> : user === 'loading...' ? <p>{user}</p>\n      : <div>\n      <h1>Manga Tracker</h1>\n      <p>Logged in as 'user name' <button onClick={() => (logout())}>logout</button></p>\n      <MangaTable />\n    </div>\n    }\n  </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}