{"version":3,"sources":["hooks/useField.js","services/configGen.js","services/dateHandler.js","components/TableSingle.js","components/AddMangaForm.js","components/Notifications.js","components/StatsToggle.js","components/SortSelect.js","services/sortingHandler.js","components/MangaTable.js","components/Login.js","App.js","index.js"],"names":["useField","type","useState","value","setValue","onChange","event","target","onSubmit","configGen","user","JSON","parse","localStorage","getItem","headers","Authorization","token","dateHandler","date","now","Date","dateSeconds","getTime","s","Math","floor","style","textAlign","TableSingle","data","manga","setManga","visible","setVisible","notevis","setNotevis","link","notes","baseUrl","useEffect","config","buttonHandler","e","preventDefault","outerText","newManga","chapter","axios","put","then","res","alert","title","catch","error","lastRead","visibility","noteVisibility","onClick","href","String","defaultValue","window","confirm","status","AddMangaForm","add","ShowButton","height","width","Notifications","message","StatsToggle","read","reduce","a","b","titles","length","finished","filter","reading","SortSelect","setSorter","sorter","sortingHandler","toUpperCase","denotifyTimeout","MangaTable","setData","setFilter","setMessage","get","notificationHandler","notif","clearTimeout","setTimeout","includes","sort","map","mssg","_id","post","require","Login","onLogin","username","password","handleSubmit","response","setItem","stringify","console","log","App","setUser","userJSON","removeItem","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.29a05345.chunk.js","sourcesContent":["import { useState } from 'react';\n\nconst useField = (type) => {\n  const [value, setValue] = useState('');\n\n  const onChange = (event) => {\n    setValue(event.target.value);\n  };\n\n  const onSubmit = () => {\n    setValue('');\n  };\n\n  return {\n    type,\n    value,\n    onChange,\n    onSubmit,\n  };\n};\n\nexport default useField;\n","const configGen = () => {\r\n  const user = JSON.parse(localStorage.getItem('loggedInUser'));\r\n  const token = `bearer ${user.token}`;\r\n  const config = {\r\n    headers: { Authorization: token },\r\n  };\r\n  return config\r\n}\r\n\r\nexport default configGen","const dateHandler = (date) => {\r\n  const now = new Date();\r\n  const last = new Date(date);\r\n  const dateSeconds = (last).getTime();\r\n  const s = (now.getTime() - dateSeconds) / 1000; // seconds\r\n  if (s < 60) {\r\n    return 'just now';\r\n  } if (s < 60 * 60) {\r\n    return `${Math.floor(s / 60)} minute(s) ago`;\r\n  } if (s < 60 * 60 * 24) {\r\n    return `${Math.floor(s / (60 * 60))} hour(s) ago`;\r\n  } if (s < 60 * 60 * 24 * 30) {\r\n    return `${Math.floor(s / (60 * 60 * 24))} day(s) ago`;\r\n  } if (s < 60 * 60 * 24 * 30 * 12) {\r\n    return `${Math.floor(s / (60 * 60 * 24 * 30))} month(s) ago`;\r\n  }\r\n  return `${Math.floor(s / (60 * 60 * 24 * 30 * 12))} year(s) ago`;\r\n};\r\n\r\nexport default dateHandler","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport useField from '../hooks/useField';\nimport configGen from '../services/configGen';\nimport dateHandler from '../services/dateHandler';\n\nconst style = {\n  textAlign: 'center',\n};\n\nconst TableSingle = (data) => {\n  const [manga, setManga] = useState('');\n  const [visible, setVisible] = useState(false);\n  const [notevis, setNotevis] = useState(false);\n  const link = useField('text');\n  const notes = useField('text');\n  const baseUrl = 'http://localhost:3001/api/manga';\n\n  useEffect(() => {\n    if (!manga) {\n      setManga(data.manga);\n    } else {\n      setManga(manga);\n    }\n  }, [data, manga]);\n\n  const config = configGen()\n\n  const buttonHandler = (e) => {\n    e.preventDefault();\n    if (e.target.outerText === '<') {\n      const newManga = { ...manga, chapter: manga.chapter -= 1 };\n      setManga(newManga);\n      axios.put(baseUrl, newManga, config)\n        .then((res) => {\n          setManga(res.data);\n          data.alert(`${res.data.title} moved to previous chapter`);\n        })\n        .catch((error) => {\n          data.alert(`Error: ${error}`);\n        });\n    } else if (e.target.outerText === '>') {\n      const newManga = { ...manga, chapter: manga.chapter += 1, lastRead: new Date() };\n      setManga(newManga);\n      axios.put(baseUrl, newManga, config)\n        .then((res) => {\n          setManga(res.data);\n          data.alert(`${res.data.title} moved to next chapter`);\n        })\n        .catch((error) => {\n          data.alert(`Error: ${error}`);\n        });\n    }\n  };\n\n  const handleFilterChange = (e) => {\n    e.preventDefault();\n    if (window.confirm(`Are you sure you want to mark ${manga.title} as ${e.target.value}`)) {\n      const newManga = { ...manga, status: e.target.value };\n      axios.put(baseUrl, newManga, config)\n        .then((res) => {\n          setManga(res.data);\n          data.alert(`Setting ${manga.title} status to ${e.target.value}`);\n        })\n        .catch((error) => {\n          data.alert(`Error: ${error}`);\n        });\n    }\n  };\n\n  const visibility = (e) => {\n    e.preventDefault();\n    setVisible(!visible);\n  };\n\n  const noteVisibility = (e) => {\n    e.preventDefault()\n    setNotevis(!notevis)\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const newManga = { ...manga, link: link.value };\n    axios.put(baseUrl, newManga, config)\n      .then((res) => {\n        setManga(res.data);\n        link.onSubmit();\n        setVisible(!visible);\n        data.alert(`Changed link for ${manga.title}`)\n      })\n      .catch((error) => {\n        data.alert(`Error: ${error}`);\n      });\n  };\n\n  const noteUpdate = (e) => {\n    e.preventDefault();\n    const newManga = { ...manga, notes: notes.value };\n    axios.put(baseUrl, newManga, config)\n      .then((res) => {\n        setManga(res.data);\n        notes.onSubmit();\n        setNotevis(!notevis);\n        data.alert(`Updated notes for ${manga.title}`)\n      })\n      .catch((error) => {\n        data.alert(`Error: ${error}`);\n      });\n  }\n\n  return (\n      <tr style={style}>\n        <td>{manga.title || 'none'}</td>\n        <td>{dateHandler(manga.lastRead)}</td>\n        <td>\n          <button onClick={buttonHandler}>{'<'}</button>\n          &nbsp;{manga.chapter}&nbsp;\n          <button onClick={buttonHandler}>{'>'}</button>\n        </td>\n        <td>\n          {!visible\n            ? <>\n           <a href={String(manga.link)}>Go</a>\n           <button onClick={visibility}>Update</button>\n          </>\n            : <>\n            <form onSubmit={handleSubmit}>\n              link: <input {...link} />\n              <button type='submit'>Update</button>\n              <button onClick={visibility}>Cancel</button>\n            </form>\n          </>\n          }\n        </td>\n        <td>\n          {!notevis\n          ? <>\n          <p>{manga.notes}<button onClick={noteVisibility}>Update</button></p>\n          </>\n            : <>\n            <form onSubmit={noteUpdate}>\n              <input\n                type={notes.type}\n                onChange={notes.onChange}\n                onSubmit={notes.onSubmit}\n                defaultValue={manga.notes}\n              />\n              <button type='submit'>Update</button>\n              <button onClick={noteVisibility}>Cancel</button>\n            </form>\n            </>\n          }\n        </td>\n        <td>\n          <select onChange={handleFilterChange}>\n            {<option value={manga.status}>{manga.status}</option>}\n            {manga.status === 'reading' ? null : <option value={'reading'}>reading</option>}\n            {manga.status === 'finished' ? null : <option value={'finished'}>finished</option>}\n            {manga.status === 'to start' ? null : <option value={'to start'}>to start</option>}\n            {manga.status === 'on hold' ? null : <option value={'on hold'}>on hold</option>}\n          </select>\n        </td>\n        <td>\n        </td>\n      </tr>\n  );\n};\n\nexport default TableSingle;\n","import React, { useState } from 'react';\nimport useField from '../hooks/useField';\n\nconst AddMangaForm = ({ add }) => {\n  const [visible, setVisible] = useState(false);\n  const title = useField('text');\n  const link = useField('text');\n\n  const ShowButton = () => {\n    const showHandler = (event) => {\n      event.preventDefault();\n      setVisible(!visible);\n    };\n    return (\n      <button\n        onClick={showHandler}\n        style={{ height: '25px', width: '90px' }}>\n          {visible ? 'Close' : 'Add Manga'}\n      </button>\n    );\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    add({\n      title: title.value,\n      link: link.value,\n    });\n    title.onSubmit();\n    link.onSubmit();\n    setVisible(!visible);\n  };\n\n  return (\n    <div>\n      <ShowButton />\n      {!visible\n        ? null\n        : <form onSubmit={handleSubmit}>\n        title:\n        <input {...title} />\n        <br />\n        link:\n        <input {...link} />\n        <button type='submit'>Add</button>\n      </form>\n      }\n    </div>\n  );\n};\n\nexport default AddMangaForm;\n","import React from 'react';\n\nconst Notifications = ({ message }) => (\n    <div>\n      {message ? <h3>{message}</h3> : null}\n    </div>\n);\n\nexport default Notifications;\n","import React, { useState } from 'react';\n\nconst StatsToggle = ({ data }) => {\n  const [visible, setVisible] = useState(false);\n\n  const read = data.reduce((a, b) => a + b.chapter, 0);\n  const titles = data.length;\n  const finished = data.filter((manga) => manga.status === 'finished').length;\n  const reading = data.filter((manga) => manga.status === 'reading').length;\n\n  return (\n    <div>\n      <button onClick={() => setVisible(!visible)}>{visible ? 'Hide Stats' : 'Show Stats'}</button>\n      {visible\n        ? <div>\n        <p>Chapters read: {read}</p>\n        <p>Mangas in collection: {titles}</p>\n        <p>Mangas finished: {finished}</p>\n        <p>Mangas current reading: {reading}</p>\n      </div>\n        : null}\n    </div>\n  );\n};\n\nexport default StatsToggle;\n","import React from 'react'\r\n\r\nconst SortSelect = ({ setSorter, sorter }) => {\r\n  const handleChange = (e) => {\r\n    e.preventDefault()\r\n    setSorter(e.target.value)  \r\n  }\r\n\r\n  return (\r\n    <>\r\n      <label>Sort by:</label>\r\n      <select value={sorter} onChange={handleChange}>\r\n        <option value='timedes'>Time descending</option>\r\n        <option value='timeasc'>Time ascending</option>\r\n        <option value='namedes'>Name descending</option>\r\n        <option value='nameasc'>Name ascending</option>\r\n      </select>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default SortSelect","const sortingHandler = (sorter, a, b) => {\r\n  switch(sorter) {\r\n    case 'timedes':\r\n      return (new Date(b.lastRead).getTime() - new Date(a.lastRead).getTime())\r\n    case 'timeasc':\r\n      return (new Date(a.lastRead).getTime() - new Date(b.lastRead).getTime())\r\n    case 'namedes':\r\n      return a.title.toUpperCase() === b.title.toUpperCase() \r\n      ? 0 : b.title.toUpperCase() > a.title.toUpperCase() \r\n      ? 1 : -1\r\n    case 'nameasc':\r\n      return a.title.toUpperCase() === b.title.toUpperCase() \r\n      ? 0 : a.title.toUpperCase() > b.title.toUpperCase() \r\n      ? 1 : -1\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nexport default sortingHandler","import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport TableSingle from './TableSingle';\nimport AddMangaForm from './AddMangaForm';\nimport Notifications from './Notifications';\nimport StatsToggle from './StatsToggle';\nimport SortSelect from './SortSelect';\nimport configGen from '../services/configGen'\nimport sortingHandler from '../services/sortingHandler'\n\nlet denotifyTimeout = 0;\n\nconst MangaTable = () => {\n  const [data, setData] = useState([]);\n  const [filter, setFilter] = useState('reading');\n  const [message, setMessage] = useState('');\n  const [sorter, setSorter] = useState('timedes')\n  const config = configGen()\n\n  useEffect(() => {\n    const config = configGen()\n    axios.get('http://localhost:3001/api/manga', config).then((res) => {\n      setData(res.data);\n    });\n  }, [filter, message]);\n\n  const notificationHandler = (notif) => {\n    clearTimeout(denotifyTimeout);\n    denotifyTimeout = setTimeout(() => { setMessage(''); }, 2500);\n    setMessage(notif);\n  };\n\n  const onAdd = (manga) => {\n    axios.post('http://localhost:3001/api/manga', manga, config)\n      .then((res) => {\n        setData(res.data);\n        notificationHandler(`Added new manga ${manga.title}`, setMessage);\n      });\n  };\n\n  return (\n    <>\n    <div>\n      <div>\n        <button onClick={() => (setFilter('reading'))}>Reading</button>\n        <button onClick={() => (setFilter('to start'))}>To start</button>\n        <button onClick={() => (setFilter('finished'))}>Finished</button>\n        <button onClick={() => (setFilter('on hold'))}>On hold</button>\n        <button onClick={() => (setFilter(''))}>All</button>\n        &nbsp; currently viewing: &nbsp; {filter || 'All'}\n      </div>\n      <table width='80%'>\n        <tbody>\n        <tr>\n          <th><h3>Title</h3></th>\n          <th><h3>Last Read</h3></th>\n          <th><h3>Current</h3></th>\n          <th>Link</th>\n          <th>Notes</th>\n          <th>Status</th>\n        </tr>\n        {data\n          .filter((manga) => manga.status.includes(filter))\n          .sort((a,b) => (sortingHandler(sorter, a, b))) \n          .map((manga) => <TableSingle\n            manga={manga}\n            key={manga._id}\n            alert={(mssg) => notificationHandler(mssg)}\n            />)\n          }\n        </tbody>\n      </table>\n    </div>\n    <div>\n      <br />\n      <AddMangaForm add={onAdd}/><Notifications message={message} />\n      <StatsToggle data={data} />\n      <SortSelect setSorter={setSorter} sorter={sorter} />\n    </div>\n    </>\n  );\n};\n\nexport default MangaTable;\n","import React from 'react';\nimport useField from '../hooks/useField';\n\nconst axios = require('axios');\n\nconst Login = ({ onLogin }) => {\n  const username = useField('text');\n  const password = useField('password');\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await axios.post('http://localhost:3001/api/login', {\n        username: username.value,\n        password: password.value,\n      });\n      window.localStorage.setItem(\n        'loggedInUser', JSON.stringify(response.data),\n      );\n      onLogin();\n    } catch (error) {\n      console.log(e);\n    }\n  };\n\n  return (\n    <div>\n      <h1>Login</h1>\n      <form onSubmit={handleSubmit}>\n        username:\n        <input {...username} />\n        <br />\n        password:\n        <input {...password} />\n        <br />\n        <button type='submit'>Login</button>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport MangaTable from './components/MangaTable';\nimport Login from './components/Login';\n\nconst App = () => {\n  const [user, setUser] = useState('loading...');\n\n  useEffect(() => {\n    try {\n      const userJSON = localStorage.getItem('loggedInUser');\n      const config = {\n      headers: { Authorization: `bearer ${(JSON.parse(userJSON)).token}` },\n    };\n      axios\n      .get('http://localhost:3001/api/users/verify', config)\n      .then((res) => {\n        if (res.data === 'valid') {\n          setUser(JSON.parse(userJSON));\n        } else {\n          setUser(null);\n        }\n      })\n      .catch((e) => {\n        setUser(null);\n      });\n    } catch {\n      setUser(null);\n    }\n    \n  }, []);\n\n  const login = () => {\n    const userJSON = localStorage.getItem('loggedInUser');\n    if (userJSON) {\n      setUser(JSON.parse(userJSON));\n    }\n  };\n\n  const logout = () => {\n    localStorage.removeItem('loggedInUser');\n    setUser(null);\n  };\n\n  return (\n  <>\n    {!user ? <Login onLogin={login}/> : user === 'loading...' ? <p>{user}</p>\n      : <div>\n      <h1>Manga Tracker</h1>\n      <p>Logged in as 'user name' <button onClick={() => (logout())}>logout</button></p>\n      <MangaTable />\n    </div>\n    }\n  </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}